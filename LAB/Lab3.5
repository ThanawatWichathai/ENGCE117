#include <stdio.h>

struct student {
    char name[ 20 ] ;
    int age ;
    char sex ;
    float gpa ;
} ;

struct student ( *GetStudent( int *room ) )[ 3 ] ; // read inside into outside --- function GS get * of int & return * of GS  into array of struct student ---

int main() {

    struct student ( *children )[ 3 ] ;  // children point to array 10  of struct student.
    int group = 0 ;
    
    children = GetStudent( &group ) ;
    
    int i, j = 0 ;
    
    for( i = 0 ; i < group ; i++ ) {
    	printf( "---Room Number: %d---\n", i + 1 ) ;
    	
    	for( j = 0 ; j < 3 ; j++ ) {
    		printf( "%d %10s %5d %5c %6.2f\n", j + 1, children[i][j].name, children[i][j].age, children[i][j].sex, children[i][j].gpa ) ;
		}//end for
	}//end for --Display--

    return 0 ;
}//end function

struct student ( *GetStudent( int *room ) )[ 3 ] {
    printf( "Please Enter Room: " ) ;
    if( scanf( "%d", room ) != 1 || *room <= 0 ) {
        return NULL ;
    }//end if

   struct student ( *child )[3] ;
   child = new student[ *room ][ 3 ] ;

    int i, j = 0 ;

    for( i = 0 ; i < *room  ; i++ ) {
        printf( "Room Number:%d\n", i + 1 ) ;

        for( j = 0 ; j < 3 ; j++ ) {
            printf( "Student %d\n", j + 1 ) ;

            char name[20] ;

            printf( "Name: " ) ;
            scanf( "%19s", child[i][j].name ) ;
            printf( "Age: " ) ;
            scanf( "%d", &child[i][j].age ) ;
            printf( "Sex: " ) ;
            scanf( " %c", &child[i][j].sex ) ;
            printf( "Grade: " ) ;
            scanf( "%f", &child[i][j].gpa ) ;
            printf( "\n" ) ;
        }//end for
    }//end for --Input Data--

    return child ;
}//end function
